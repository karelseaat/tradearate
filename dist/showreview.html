{% from "macros.html" import build_card_header, build_rating, build_defautl_field, build_href_field %}

{% extends "base.html" %}
{% block content %}

<section class="section is-main-section">
  <div class="tile is-ancestor">
    <div class="tile is-parent">
      <div class="card tile is-child">
        {{ build_card_header('Review','mdi-account') }}
        <div class="card-content">
          <div class="is-user-avatar image has-max-width is-aligned-center">
            <img src="" alt="">
          </div>
          {{ build_href_field("App name", data.data.app.name, data.data.app.get_url()) }}
          <hr>
          {{ build_defautl_field("Review time", data.data.reviewtime) }}
          {{ build_defautl_field("Review text", data.data.reviewtext) }}
          <div class="field">
            <label class="label">{{ trans("Review Score", self) }}:</label>
            <div class="control is-clearfix">
              <p>{{ build_rating(data.data.reviewrating) }}</p>
            </div>
            <hr>
            <label class="label">{{ trans("Reviewer", self) }}:</label>
            {% if data.data.user %}
            <div class="control is-clearfix">
              <div class="is-user-avatar image has-max-width is-aligned-center">
                <img src="{{ data.data.user.picture }}" alt="{{ data.data.user.fullname }}">
              </div>
              <label class="label">{{ trans("Name", self) }}:</label>
              <p><a href='/usertrades/{{ data.data.user.id }}'>{{ data.data.user.fullname }}</a></p>
            </div>
            {% else %}
            <div class="control is-clearfix">
              <div class="is-user-avatar image has-max-width is-aligned-center">
                <img src="{{ data.data.user.picture }}" alt="{{ data.data.user.fullname }}">
              </div>
              <label class="label">{{ trans("Name", self) }}:</label>
              <p>{{ data.data.username }}</p>
            </div>
            {% endif %}

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="section is-main-section">
  <div class="tile is-ancestor">
    <div class="tile is-parent">
    </div>
  </div>
</section>

{% endblock %}
