{% from "macros.html" import build_card_header, build_defautl_field, build_href_field, build_review_table %}
{% extends "base.html" %}

{% block content %}

<section class="section is-main-section">
  <div class="tile is-ancestor">
    <div class="tile is-parent">
      <div class="card tile is-child">
        {{ build_card_header('App detail','mdi-android') }}
        <div class="card-content">
          <div class="is-user-avatar image has-max-width is-aligned-center">
            <img src="{{ data.data.imageurl }}" alt="{{ data.data.name }}">
            <p> {{ data.data.name }} </p>
          </div>
          <hr>

          {{ build_href_field("App id",  data.data.appidstring, data.data.get_url()) }}

          {{ build_defautl_field("Nr of trades", data.data.all_trades()|count) }}

          {{ build_defautl_field("Paid", trans("Yes", self) if data.data.paid else trans("No", self)) }}

        </div>
      </div>
    </div>
  </div>
</section>

<section class="section is-main-section">
  <div class="card has-table">
    {{ build_card_header('Reviews','mdi-star-half') }}
    <div class="card-content">
      <div class="b-table has-pagination">
        <div class="table-wrapper has-mobile-cards">
          {{ build_review_table(data.data.reviews) }}
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
